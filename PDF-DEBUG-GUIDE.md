# PDF Generator Debug Mode Guide

## üîß –í–≤—ñ–º–∫–Ω–µ–Ω–Ω—è —Ä–µ–∂–∏–º—É –≤—ñ–¥–ª–∞–¥–∫–∏

–†–µ–∂–∏–º –≤—ñ–¥–ª–∞–¥–∫–∏ –≤–∂–µ –≤–≤—ñ–º–∫–Ω–µ–Ω–æ –≤ –∫–æ–¥—ñ:
```typescript
const DEBUG_MODE = true; // Enable debug logging and visual debugging
```

## üé® –í—ñ–∑—É–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤—ñ–¥–ª–∞–¥–∫–∏

### –ö–æ–ª—å–æ—Ä–æ–≤–µ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è:
- **üî¥ –ß–µ—Ä–≤–æ–Ω–∏–π** - –ë–ª–æ–∫–∏, —è–∫—ñ –ù–ï –±—É–¥—É—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ñ (–ø–µ—Ä–µ—Ç–∏–Ω–∞—é—Ç—å –º–µ–∂—É, –∞–ª–µ –Ω–µ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è)
- **üü¢ –ó–µ–ª–µ–Ω–∏–π** - –ë–ª–æ–∫–∏, —è–∫—ñ –±—É–¥—É—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ñ –Ω–∞ –Ω–æ–≤—É —Å—Ç–æ—Ä—ñ–Ω–∫—É
- **üîµ –°–∏–Ω—ñ –ª—ñ–Ω—ñ—ó** - –ú–µ–∂—ñ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ (–≤–µ—Ä—Ö —Ç–∞ –Ω–∏–∑)
- **üü¢ –ù–∞–ø—ñ–≤–ø—Ä–æ–∑–æ—Ä—ñ –∑–µ–ª–µ–Ω—ñ –ª—ñ–Ω—ñ—ó** - –ë–µ–∑–ø–µ—á–Ω—ñ –º–µ–∂—ñ –¥–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è (60px –≤—ñ–¥ –Ω–∏–∑—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏)

### CSS –∫–ª–∞—Å–∏ –¥–ª—è –≤—ñ–¥–ª–∞–¥–∫–∏:
- `.pdf-debug-candidate` - –ß–µ—Ä–≤–æ–Ω–µ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∫–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤ –Ω–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è
- `.pdf-debug-moved` - –ó–µ–ª–µ–Ω–µ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∏—Ö –±–ª–æ–∫—ñ–≤
- `.pdf-debug-boundary-safe` - –ù–∞–ø—ñ–≤–ø—Ä–æ–∑–æ—Ä—ñ –∑–µ–ª–µ–Ω—ñ –∑–æ–Ω–∏ –±–µ–∑–ø–µ—á–Ω–∏—Ö –º–µ–∂
- `.pdf-debug-boundary-unsafe` - –ù–∞–ø—ñ–≤–ø—Ä–æ–∑–æ—Ä—ñ —á–µ—Ä–≤–æ–Ω—ñ –∑–æ–Ω–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏—Ö –º–µ–∂

## üìù –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—ñ

### –û—Å–Ω–æ–≤–Ω—ñ –µ—Ç–∞–ø–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è:
1. **`debug:flow-analysis-start`** - –ü–æ—á–∞—Ç–æ–∫ –∞–Ω–∞–ª—ñ–∑—É flow
2. **`debug:getBreakCandidates-start`** - –ü–æ—à—É–∫ –≤—Å—ñ—Ö –±–ª–æ–∫—ñ–≤ –∑ –∫–ª–∞—Å–æ–º `pdf-flow-break`
3. **`debug:candidate-N`** - –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ–∂–Ω–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
4. **`debug:shouldMove-decision`** - –†—ñ—à–µ–Ω–Ω—è –ø—Ä–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É
5. **`debug:block-moved`** - –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ñ–∞–∫—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è –±–ª–æ–∫—É
6. **`debug:final-summary`** - –ü—ñ–¥—Å—É–º–∫–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –ö–ª—é—á–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ –ª–æ–≥–∞—Ö:
- `nodeTop`, `nodeBottom` - –ü–æ–∑–∏—Ü—ñ—è –±–ª–æ–∫—É
- `pageTop`, `pageBottom` - –ú–µ–∂—ñ –ø–æ—Ç–æ—á–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- `crossesBottomSafeBoundary` - –ß–∏ –ø–µ—Ä–µ—Ç–∏–Ω–∞—î –±–ª–æ–∫ –±–µ–∑–ø–µ—á–Ω—É –º–µ–∂—É
- `shouldMove` - –ß–∏ –±—É–¥–µ –±–ª–æ–∫ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ

## üîç –Ø–∫ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12)
2. **–ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ PDF** –∑ –±—É–¥—å-—è–∫–æ–≥–æ CV
3. **–®—É–∫–∞–π—Ç–µ –ª–æ–≥–∏ –∑ –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º** `[PDF][v-debug-2]`
4. **–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π—Ç–µ –∑–∞ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏** –≤ iframe –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó

### –ü—Ä–∏–∫–ª–∞–¥ –∞–Ω–∞–ª—ñ–∑—É –ª–æ–≥—É:
```
[PDF][v-debug-2][abc123] debug:shouldMove-decision {
  tagName: "H2",
  crossesBottomSafeBoundary: true,
  nodeTop: 1080,
  pageTop: 1123,
  pageBottom: 2246,
  bottomSafeBoundary: 2186,
  shouldMove: true
}
```

–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ H2 –±–ª–æ–∫ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—ó 1080px –ø–µ—Ä–µ—Ç–∏–Ω–∞—î –±–µ–∑–ø–µ—á–Ω—É –º–µ–∂—É (2186px) —ñ –±—É–¥–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∏–π.

## üö® –í–∏–º–∫–Ω–µ–Ω–Ω—è —Ä–µ–∂–∏–º—É –≤—ñ–¥–ª–∞–¥–∫–∏

–î–ª—è –≤–∏–º–∫–Ω–µ–Ω–Ω—è —Ä–µ–∂–∏–º—É –≤—ñ–¥–ª–∞–¥–∫–∏ –∑–º—ñ–Ω—ñ—Ç—å:
```typescript
const DEBUG_MODE = false;
```

## üìã –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

1. **–ë–ª–æ–∫–∏ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—å—Å—è** - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `crossesBottomSafeBoundary` —Ç–∞ `shouldMove`
2. **–ó–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å—ñ–≤** - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `nodeHeight` —Ç–∞ `maxChunkHeight`
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –º–µ–∂—ñ —Å—Ç–æ—Ä—ñ–Ω–æ–∫** - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `a4HeightPx` (1123px) —Ç–∞ `pageBottomSafePx` (60px)
4. **–ü–æ—Ä–æ–∂–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏** - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `markersCreated` —Ç–∞ —ó—Ö –ø–æ–∑–∏—Ü—ñ—ó

## üéØ –ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏

- `a4HeightPx = 1123` - –í–∏—Å–æ—Ç–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ A4 –≤ px
- `pageTopGapPx = 60` - –í–µ—Ä—Ö–Ω—ñ–π –≤—ñ–¥—Å—Ç—É–ø –¥–ª—è –Ω–æ–≤–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- `pageBottomSafePx = 60` - –ù–∏–∂–Ω—è –±–µ–∑–ø–µ—á–Ω–∞ –∑–æ–Ω–∞
- `maxChunkHeight = 1003` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≤–∏—Å–æ—Ç–∞ –±–ª–æ–∫—É –¥–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è
